<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Visualize Embeddings of Visits — visualize_visit_embeddings • memr</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Visualize Embeddings of Visits — visualize_visit_embeddings" />

<meta property="og:description" content="Visualize given embeddings of visits of specified specialties of doctors.
The visualization is generated on the 2D plane by t-SNE algorithm
or by PCA (two main components) and plotted with ggplot.
If t-SNE cannot be generated (because for example
perplexity is too large for the number of samples), there are plotted
two main components from PCA.
Points representing the visits can be colored by doctor ID,
the first letter of ICD-10 code or by cluster number.
The plot can be optionally saved to the given PDF file." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">memr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Visualize Embeddings of Visits</h1>
    
    <div class="hidden name"><code>visualize_visit_embeddings.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Visualize given embeddings of visits of specified specialties of doctors.
The visualization is generated on the 2D plane by t-SNE algorithm
or by PCA (two main components) and plotted with ggplot.
If t-SNE cannot be generated (because for example
perplexity is too large for the number of samples), there are plotted
two main components from PCA.
Points representing the visits can be colored by doctor ID,
the first letter of ICD-10 code or by cluster number.
The plot can be optionally saved to the given PDF file.</p>
    
    </div>

    <pre class="usage"><span class='fu'>visualize_visit_embeddings</span>(<span class='no'>visits_vectors</span>, <span class='no'>visit_table</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"tsne"</span>,
  <span class='no'>color_by</span>, <span class='no'>spec</span>, <span class='no'>clusters</span>, <span class='kw'>n_doctors</span> <span class='kw'>=</span> <span class='fl'>5L</span>, <span class='kw'>n_codes</span> <span class='kw'>=</span> <span class='fl'>9L</span>,
  <span class='kw'>save</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>path_to_save</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>visit_table</th>
      <td><p>A data frame with columns:</p><dl class='dl-horizontal'>
  <dt><code>visit_id</code></dt><dd><p></p></dd>
  <dt><code>icd10</code></dt><dd><p>(Optional, if <code>color_by == "icd10"</code>): ICD-10 code of the visit</p></dd>
  <dt><code>doctor_id</code></dt><dd><p>(Optional, if <code>color_by == "doctor"</code>): doctor's ID</p></dd>
  <dt><code>specialties</code></dt><dd><p>Specialties of doctors, separated by <code>", "</code></p></dd>

</dl></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>One of <code>"tsne"</code> (default) or <code>"pca"</code> - a method of generating the plot</p></td>
    </tr>
    <tr>
      <th>color_by</th>
      <td><p>A string, one of <code>{"doctor", "icd10", "cluster"}</code></p></td>
    </tr>
    <tr>
      <th>spec</th>
      <td><p>A specialty to be plotted (optional, required if <code>color_by != "clusters"</code>)</p></td>
    </tr>
    <tr>
      <th>clusters</th>
      <td><p>An output of the function <a href='cluster_visits.html'>cluster_visits</a>
(optional, if <code>color_by == "clusters"</code>)</p></td>
    </tr>
    <tr>
      <th>n_doctors</th>
      <td><p>A number of doctors to be colored, the rest will be grey
(optional, if <code>color_by == "doctor"</code>), default: 5</p></td>
    </tr>
    <tr>
      <th>n_codes</th>
      <td><p>A number of codes to be colored, the rest will be grey
(optional, if <code>color_by == "icd10"</code>), default: 9</p></td>
    </tr>
    <tr>
      <th>save</th>
      <td><p>A logical indicating if the plot should be saved to the file</p></td>
    </tr>
    <tr>
      <th>path_to_save</th>
      <td><p>An optional string of the path to the target PDF file</p></td>
    </tr>
    <tr>
      <th>visit_vectors</th>
      <td><p>A matrix of embeddings of visits</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A generated plot of embeddings.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>inter_term_vectors</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='embed_terms.html'>embed_terms</a></span>(<span class='no'>interview_1000</span>, <span class='kw'>embedding_size</span> <span class='kw'>=</span> <span class='fl'>10L</span>)</div><div class='output co'>#&gt; <span class='error'>Error in gsub(", ", ",", merged_terms): nie znaleziono obiektu 'interview_1000'</span></div><div class='input'><span class='no'>exam_term_vectors</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='embed_terms.html'>embed_terms</a></span>(<span class='no'>examination_1000</span>, <span class='kw'>embedding_size</span> <span class='kw'>=</span> <span class='fl'>10L</span>)</div><div class='output co'>#&gt; <span class='error'>Error in gsub(", ", ",", merged_terms): nie znaleziono obiektu 'examination_1000'</span></div><div class='input'><span class='no'>visits_vectors</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='embed_list_visits.html'>embed_list_visits</a></span>(<span class='no'>interview_1000</span>,
  <span class='no'>examination_1000</span>, <span class='no'>inter_term_vectors</span>, <span class='no'>exam_term_vectors</span>)</div><div class='output co'>#&gt; <span class='error'>Error in unique(c(names(inter_descriptions), names(exam_descriptions))): nie znaleziono obiektu 'interview_1000'</span></div><div class='input'>
<span class='fu'>visualize_visit_embeddings</span>(<span class='no'>visits_vectors</span>, <span class='no'>visits_1000</span>, <span class='st'>"tsne"</span>,
  <span class='kw'>color_by</span> <span class='kw'>=</span> <span class='st'>"doctor"</span>, <span class='kw'>spec</span> <span class='kw'>=</span> <span class='st'>"medycyna rodzinna"</span>, <span class='kw'>n_doctors</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; <span class='error'>Error in visualize_visit_embeddings(visits_vectors, visits_1000, "tsne",     color_by = "doctor", spec = "medycyna rodzinna", n_doctors = 10): nie znaleziono obiektu 'visits_vectors'</span></div><div class='input'><span class='fu'>visualize_visit_embeddings</span>(<span class='no'>visits_vectors</span>, <span class='no'>visits_1000</span>, <span class='st'>"pca"</span>,
  <span class='kw'>color_by</span> <span class='kw'>=</span> <span class='st'>"doctor"</span>, <span class='kw'>spec</span> <span class='kw'>=</span> <span class='st'>"medycyna rodzinna"</span>, <span class='kw'>n_doctors</span> <span class='kw'>=</span> <span class='fl'>9</span>)</div><div class='output co'>#&gt; <span class='error'>Error in visualize_visit_embeddings(visits_vectors, visits_1000, "pca",     color_by = "doctor", spec = "medycyna rodzinna", n_doctors = 9): nie znaleziono obiektu 'visits_vectors'</span></div><div class='input'><span class='fu'>visualize_visit_embeddings</span>(<span class='no'>visits_vectors</span>, <span class='no'>visits_1000</span>,
  <span class='kw'>color_by</span> <span class='kw'>=</span> <span class='st'>"icd10"</span>, <span class='kw'>spec</span> <span class='kw'>=</span> <span class='st'>"medycyna rodzinna"</span>, <span class='kw'>n_codes</span> <span class='kw'>=</span> <span class='fl'>4</span>)</div><div class='output co'>#&gt; <span class='error'>Error in visualize_visit_embeddings(visits_vectors, visits_1000, color_by = "icd10",     spec = "medycyna rodzinna", n_codes = 4): nie znaleziono obiektu 'visits_vectors'</span></div><div class='input'><span class='fu'>visualize_visit_embeddings</span>(<span class='no'>visits_vectors</span>, <span class='no'>visits_1000</span>,
  <span class='kw'>color_by</span> <span class='kw'>=</span> <span class='st'>"icd10"</span>, <span class='kw'>spec</span> <span class='kw'>=</span> <span class='st'>"kardiologia"</span>, <span class='kw'>n_codes</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='error'>Error in visualize_visit_embeddings(visits_vectors, visits_1000, color_by = "icd10",     spec = "kardiologia", n_codes = 2): nie znaleziono obiektu 'visits_vectors'</span></div><div class='input'><span class='fu'>visualize_visit_embeddings</span>(<span class='no'>visits_vectors</span>, <span class='no'>visits_1000</span>,
  <span class='kw'>color_by</span> <span class='kw'>=</span> <span class='st'>"doctor"</span>, <span class='kw'>spec</span> <span class='kw'>=</span> <span class='st'>"ginekologia"</span>, <span class='kw'>n_doctors</span> <span class='kw'>=</span> <span class='fl'>5</span>)</div><div class='output co'>#&gt; <span class='error'>Error in visualize_visit_embeddings(visits_vectors, visits_1000, color_by = "doctor",     spec = "ginekologia", n_doctors = 5): nie znaleziono obiektu 'visits_vectors'</span></div><div class='input'>
<span class='no'>clusters</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cluster_visits.html'>cluster_visits</a></span>(<span class='no'>visits_vectors</span>, <span class='no'>visits_1000</span>,
  <span class='kw'>spec</span> <span class='kw'>=</span> <span class='st'>"medycyna rodzinna"</span>, <span class='kw'>cluster_number</span> <span class='kw'>=</span> <span class='fl'>5</span>)</div><div class='output co'>#&gt; <span class='error'>Error in cluster_visits(visits_vectors, visits_1000, spec = "medycyna rodzinna",     cluster_number = 5): nie znaleziono obiektu 'visits_1000'</span></div><div class='input'><span class='fu'>visualize_visit_embeddings</span>(<span class='no'>visits_vectors</span>, <span class='no'>visits_1000</span>,
  <span class='kw'>color_by</span> <span class='kw'>=</span> <span class='st'>"cluster"</span>,
  <span class='kw'>clusters</span> <span class='kw'>=</span> <span class='no'>clusters</span>)</div><div class='output co'>#&gt; <span class='error'>Error in visualize_visit_embeddings(visits_vectors, visits_1000, color_by = "cluster",     clusters = clusters): nie znaleziono obiektu 'visits_vectors'</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Adam Gabriel Dobrakowski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


